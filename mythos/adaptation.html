<!DOCTYPE html>
<html lang="en">
  <head>
    z
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <meta charset="UTF-8" />
    <title>Adaptation Card Maker</title>
    <!-- Link to external CSS (assuming style.css is in the same folder) -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Tooltip element for hover text -->
    <div id="tooltip"></div>

    <div class="split-container">
      <!-- LEFT PANEL: Flip Cards for Power & Weakness arranged horizontally -->
      <div class="left-panel">
        <h2 style="width: 100%">POWER TAG QUESTIONS</h2>
        <p>
          Answer the question A; then choose two more questions to answer.
          Answer each question with a single description no more than a few
          words long. In your answer, you should describe something that will be
          useful to your character during the game. Each answer becomes a power
          tag. Write it on your theme card under POWER TAGS along with the
          letter of the question.
        </p>

        <!-- POWER CARD A -->
        <div class="flip-card" id="cardA">
          <div class="flip-card-inner">
            <div class="flip-card-front" id="frontA">
              <div
                class="draggable-letter"
                draggable="true"
                data-letter="A"
                data-question="What Mythos power allows you to respond differently to every situation?"
              >
                <span>A</span>
              </div>
              <div class="question-text">
                What Mythos power allows you to respond differently to every
                situation?
              </div>
            </div>
            <div class="flip-card-back">
              <div class="answer-bottom">
                <div
                  class="answer-block"
                  draggable="true"
                  data-letter="A"
                  data-question="What Mythos power allows you to respond differently to every situation?"
                  data-answer="cast a magic spell"
                >
                  cast a magic spell
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- POWER CARD B -->
        <div class="flip-card" id="cardB">
          <div class="flip-card-inner">
            <div class="flip-card-front" id="frontB">
              <div
                class="draggable-letter"
                draggable="true"
                data-letter="B"
                data-question="What narrow group of effects within your Mythos’ domain have you mastered?"
              >
                <span>B</span>
              </div>
              <div class="question-text">
                What narrow group of effects within your Mythos’ domain have you
                mastered?
              </div>
            </div>
            <div class="flip-card-back">
              <div class="answer-bottom">
                <div
                  class="answer-block"
                  draggable="true"
                  data-letter="B"
                  data-question="What narrow group of effects within your Mythos’ domain have you mastered?"
                  data-answer="transportation spells"
                >
                  transportation spells
                </div>
              </div>
            </div>
          </div>
        </div>

        <h2 style="width: 100%">WEAKNESS TAG QUESTIONS</h2>
        <p>
          Choose one question to answer. Answer it with a single description no
          more than a few words long. In your answer, you should describe
          something that will impede your character’s actions during the game.
          Your answer becomes a weakness tag. Write it on your theme card under
          WEAKNESS TAGS along with the letter of the question.
        </p>

        <!-- WEAKNESS CARD A -->
        <div class="flip-card" id="cardWA">
          <div class="flip-card-inner">
            <div class="flip-card-front" id="frontWA">
              <div
                class="draggable-letter"
                draggable="true"
                data-letter="A"
                data-question="What are your powers of adaptivity dependent on?"
              >
                <span>A</span>
              </div>
              <div class="question-text">
                What are your powers of adaptivity dependent on?
              </div>
            </div>
            <div class="flip-card-back">
              <div class="answer-bottom">
                <div
                  class="answer-block"
                  draggable="true"
                  data-letter="A"
                  data-question="What are your powers of adaptivity dependent on?"
                  data-answer="only works with a magic wand"
                >
                  only works with a magic wand
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- WEAKNESS CARD B -->
        <div class="flip-card" id="cardWB">
          <div class="flip-card-inner">
            <div class="flip-card-front" id="frontWB">
              <div
                class="draggable-letter"
                draggable="true"
                data-letter="B"
                data-question="What results are harder for your Mythos to achieve?"
              >
                <span>B</span>
              </div>
              <div class="question-text">
                What results are harder for your Mythos to achieve?
              </div>
            </div>
            <div class="flip-card-back">
              <div class="answer-bottom">
                <div
                  class="answer-block"
                  draggable="true"
                  data-letter="B"
                  data-question="What results are harder for your Mythos to achieve?"
                  data-answer="dark magic is forbidden"
                >
                  dark magic is forbidden
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT PANEL: Theme Card with Editable THEME TITLE, MYSTERY, Power & Weakness Tag Slots -->
      <div class="right-panel">
        <div class="theme-card">
          <div id="type" class="editable-title" contenteditable="false">
            Adaptation
          </div>
          <div
            id="themeTitle"
            class="editable-title"
            contenteditable="true"
          ></div>

          <div id="mystery" class="editable-title" contenteditable="true"></div>

          <div class="power-tags">
            <div class="power-tag-line" id="slot1" data-question="">
              <div class="tag-letter" id="letter1"></div>
              <div class="tag-text" id="text1" contenteditable="true"></div>
              <span class="clear-slot" onclick="clearSlot(this.parentElement)"
                >x</span
              >
            </div>
            <div class="power-tag-line" id="slot2" data-question="">
              <div class="tag-letter" id="letter2"></div>
              <div class="tag-text" id="text2" contenteditable="true"></div>
              <span class="clear-slot" onclick="clearSlot(this.parentElement)"
                >x</span
              >
            </div>
            <div class="power-tag-line" id="slot3" data-question="">
              <div class="tag-letter" id="letter3"></div>
              <div class="tag-text" id="text3" contenteditable="true"></div>
              <span class="clear-slot" onclick="clearSlot(this.parentElement)"
                >x</span
              >
            </div>
            <div class="power-tag-line" id="slot4" data-question="">
              <div class="tag-letter" id="letter4"></div>
              <div class="tag-text" id="text4" contenteditable="true"></div>
              <span class="clear-slot" onclick="clearSlot(this.parentElement)"
                >x</span
              >
            </div>
            <div class="power-tag-line" id="slot5" data-question="">
              <div class="tag-letter" id="letter5"></div>
              <div class="tag-text" id="text5" contenteditable="true"></div>
              <span class="clear-slot" onclick="clearSlot(this.parentElement)"
                >x</span
              >
            </div>
            <div class="power-tag-line" id="slot6" data-question="">
              <div class="tag-letter" id="letter6"></div>
              <div class="tag-text" id="text6" contenteditable="true"></div>
              <span class="clear-slot" onclick="clearSlot(this.parentElement)"
                >x</span
              >
            </div>
            <div class="power-tag-line" id="slot7" data-question="">
              <div class="tag-letter" id="letter7"></div>
              <div class="tag-text" id="text7" contenteditable="true"></div>
              <span class="clear-slot" onclick="clearSlot(this.parentElement)"
                >x</span
              >
            </div>
          </div>

          <div class="weakness-tags">
            <div class="weakness-tag-line" id="wslot1" data-question="">
              <div class="tag-letter" id="wletter1"></div>
              <div class="tag-text" id="wtext1" contenteditable="true"></div>
              <span
                class="clear-slot"
                onclick="clearWeaknessSlot(this.parentElement)"
                >x</span
              >
            </div>
            <div class="weakness-tag-line" id="wslot2" data-question="">
              <div class="tag-letter" id="wletter2"></div>
              <div class="tag-text" id="wtext2" contenteditable="true"></div>
              <span
                class="clear-slot"
                onclick="clearWeaknessSlot(this.parentElement)"
                >x</span
              >
            </div>
            <div class="weakness-tag-line" id="wslot3" data-question="">
              <div class="tag-letter" id="wletter3"></div>
              <div class="tag-text" id="wtext3" contenteditable="true"></div>
              <span
                class="clear-slot"
                onclick="clearWeaknessSlot(this.parentElement)"
                >x</span
              >
            </div>
          </div>
        </div>

        <button id="saveAsPng">Save as PNG</button>
      </div>
    </div>

    <!-- Reference your external script file (assuming script.js is in the same folder) -->
    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fitty/2.3.6/fitty.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        fitty(".tag-text", {
          minSize: 10, // minimum font size
          maxSize: 27, // maximum font size
          multiLine: false, // single-line resizing
        });
      });
    </script>
  </body>
</html>
